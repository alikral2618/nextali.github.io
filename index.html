<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AyakkabÄ±cÄ±m - MaÄŸaza</title>
  <style>
    /* Genel stil */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      min-height: 100vh;
    }

    .sidebar {
      width: 250px;
      background-color: #333;
      color: white;
      padding: 20px;
      position: fixed;
      height: 100%;
      top: 0;
      left: 0;
      box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
      display: flex;
      flex-direction: column;
    }

    .sidebar h2 {
      text-align: center;
      margin-bottom: 20px;
    }

    .sidebar ul {
      list-style: none;
      padding: 0;
    }

    .sidebar ul li {
      margin: 10px 0;
    }

    .sidebar ul li a {
      color: white;
      text-decoration: none;
      font-size: 18px;
      display: block;
      padding: 10px;
      border-radius: 4px;
      transition: background-color 0.3s;
    }

    .sidebar ul li a:hover {
      background-color: #555;
    }

    .content {
      margin-left: 270px;
      padding: 20px;
      flex-grow: 1;
    }

    .header-title {
      text-align: center;
      margin: 20px 0;
      font-size: 2.5em;
      color: #333;
    }

    .product-list {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      margin-top: 20px;
    }

    .product-item {
      background: #fff;
      padding: 20px;
      border: 1px solid #ccc;
      text-align: center;
      width: 200px;
    }

    .product-item img {
      width: 100%;
      height: auto;
    }

    .product-item button {
      margin-top: 10px;
      padding: 8px 12px;
      background: #333;
      color: white;
      border: none;
      cursor: pointer;
    }

    .product-item button:hover {
      background: #555;
    }

    /* Sepet simgesi */
    .cart-icon {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: #333;
      color: white;
      padding: 15px;
      border-radius: 50%;
      font-size: 20px;
      cursor: pointer;
      box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
    }

    /* Sepet penceresi */
    .cart-window {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: none;
      justify-content: center;
      align-items: center;
    }

    .cart-content {
      background-color: white;
      padding: 30px;
      width: 80%;
      max-width: 500px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .cart-content h3 {
      margin-top: 0;
    }

    /* Ã–deme formu */
    .payment-form input,
    .payment-form button {
      margin: 10px 0;
      padding: 10px;
      width: 100%;
    }
  </style>
</head>
<body>

  <!-- Sepet simgesi -->
  <div class="cart-icon" onclick="toggleCart()">ðŸ›’</div>

  <!-- Sepet penceresi -->
  <div id="cartWindow" class="cart-window">
    <div class="cart-content">
      <h3>Sepetiniz</h3>
      <div id="cartItems"></div>
      <button onclick="proceedToCheckout()">Ã–deme Yap</button>
      <button onclick="toggleCart()">Kapat</button>
    </div>
  </div>

  <!-- MaÄŸaza SayfasÄ± -->
  <div class="content">
    <h1 class="header-title">Yeni Sezon AyakkabÄ±larÄ±</h1>

    <!-- ÃœrÃ¼n Listesi -->
    <div class="product-list" id="productList"></div>

  </div>

  <!-- Ã–deme SayfasÄ± -->
  <div id="paymentPage" style="display: none; padding: 20px;">
    <h2>Ã–deme Bilgilerinizi Girin</h2>
    <div class="payment-form">
      <input type="text" id="cardName" placeholder="Kart Sahibinin AdÄ±" required>
      <input type="text" id="cardNumber" placeholder="Kart NumarasÄ±" required>
      <input type="text" id="cardExp" placeholder="Son Kullanma Tarihi (MM/YY)" required>
      <input type="text" id="cardCVC" placeholder="CVC Kodu" required>
      <button onclick="completePurchase()">SatÄ±n Al</button>
    </div>
  </div>

  <script>
    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    // KullanÄ±cÄ± verilerini saklama (Ã¶rnek: Facebook ya da Gmail ile giriÅŸ)
    let user = JSON.parse(localStorage.getItem("user")) || null;

    // ÃœrÃ¼nler
    const products = [
      { id: 1, name: "Erkek Spor AyakkabÄ±", price: 199, image: "https://via.placeholder.com/150" },
      { id: 2, name: "KadÄ±n Topuklu AyakkabÄ±", price: 249, image: "https://via.placeholder.com/150" },
      { id: 3, name: "Ã‡ocuk AyakkabÄ±sÄ±", price: 129, image: "https://via.placeholder.com/150" },
      { id: 4, name: "Spor AyakkabÄ±", price: 299, image: "https://via.placeholder.com/150" }
    ];

    // ÃœrÃ¼nleri sayfada gÃ¶ster
    function loadProducts() {
      const productList = document.getElementById("productList");
      products.forEach(product => {
        const div = document.createElement("div");
        div.classList.add("product-item");
        div.innerHTML = `
          <img src="${product.image}" alt="${product.name}">
          <h4>${product.name}</h4>
          <p>${product.price} â‚º</p>
          <button onclick="addToCart(${product.id})">Sepete Ekle</button>
        `;
        productList.appendChild(div);
      });
    }

    // Sepete Ã¼rÃ¼n ekle
    function addToCart(productId) {
      cart.push(productId);
      localStorage.setItem("cart", JSON.stringify(cart));
      loadCart();
    }

    // Sepet gÃ¶rÃ¼nÃ¼mÃ¼nÃ¼ yÃ¼kle
    function loadCart() {
      const cartItems = document.getElementById("cartItems");
      cartItems.innerHTML = ""; // Sepeti temizle

      cart.forEach(productId => {
        const product = products.find(p => p.id === productId);
        const div = document.createElement("div");
        div.innerHTML = `
          <input type="checkbox" checked id="cartItem_${product.id}" onclick="updateCart(${product.id})">
          <span>${product.name} - ${product.price} â‚º</span>
        `;
        cartItems.appendChild(div);
      });
    }

    // Sepet item'Ä±nÄ± gÃ¼ncelle
    function updateCart(productId) {
      const checked = document.getElementById(`cartItem_${productId}`).checked;
      if (!checked) {
        cart = cart.filter(item => item !== productId);
      } else {
        cart.push(productId);
      }
      localStorage.setItem("cart", JSON.stringify(cart));
    }

    // Sepet simgesini aÃ§/kapat
    function toggleCart() {
      const cartWindow = document.getElementById("cartWindow");
      cartWindow.style.display = cartWindow.style.display === "flex" ? "none" : "flex";
      loadCart();
    }

    // Ã–demeye geÃ§iÅŸ
    function proceedToCheckout() {
      document.getElementById("paymentPage").style.display = "block";
      document.getElementById("cartWindow").style.display = "none";
    }

    // SatÄ±n alma iÅŸlemini tamamlama
    function completePurchase() {
      const cardName = document.getElementById("cardName").value;
      const cardNumber = document.getElementById("cardNumber").value;
      const cardExp = document.getElementById("cardExp").value;
      const cardCVC = document.getElementById("cardCVC").value;

      // Burada Ã¶deme iÅŸlemi yapÄ±labilir, Ã¶rneÄŸin Stripe API ile
      // Ancak ÅŸu an iÃ§in basitÃ§e satÄ±n alma iÅŸlemimizi bitiriyoruz
      alert(`Ã–deme baÅŸarÄ±yla gerÃ§ekleÅŸtirildi!\nKart Sahibinin AdÄ±: ${cardName}`);

      // Sepeti temizle ve Ã¶deme sayfasÄ±nÄ± gizle
      cart = [];
      localStorage.setItem("cart", JSON.stringify(cart));
      loadCart();
      document.getElementById("paymentPage").style.display = "none";
    }

    // Sayfa yÃ¼klendiÄŸinde Ã¼rÃ¼nleri ve sepeti yÃ¼kle
    window.onload = function() {
      loadProducts();
      loadCart();

      // EÄŸer kullanÄ±cÄ± zaten giriÅŸ yaptÄ±ysa, onu gÃ¶sterebiliriz
      if (user) {
        console.log("HoÅŸ geldiniz, " + user.name);
      }
    };
  </script>

</body>
</html>
